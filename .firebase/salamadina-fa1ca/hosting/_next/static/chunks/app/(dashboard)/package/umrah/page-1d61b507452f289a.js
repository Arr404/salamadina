(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5119],{87101:function(e,a,r){Promise.resolve().then(r.bind(r,35224)),Promise.resolve().then(r.bind(r,82591)),Promise.resolve().then(r.bind(r,1710)),Promise.resolve().then(r.bind(r,41843))},45814:function(e,a,r){"use strict";r.d(a,{Py:function(){return u},Uu:function(){return m},_w:function(){return p},a$:function(){return o},e$:function(){return g},fu:function(){return c},qA:function(){return d}});var t=r(69842),l=r(73501);let s=(0,t.ad)(l.Z),i=(0,t.hJ)(s,"promos"),n=(0,t.hJ)(s,"airports"),o=async()=>{try{let e=await (0,t.PL)(i),a=await (0,t.PL)(n),r=e.docs.map(e=>({id:e.id,name:e.data().name})),l=a.docs.map(e=>({id:e.id,code:e.data().code,name:e.data().name}));return{promos:r,airports:l}}catch(e){throw console.error("Error fetching filters:",e),e}},c=async e=>{try{return{id:(await (0,t.ET)(i,{name:e})).id,name:e}}catch(e){throw console.error("Error adding promo:",e),e}},d=async e=>{try{return await (0,t.oe)((0,t.JU)(s,"promos",e)),!0}catch(e){throw console.error("Error deleting promo:",e),e}},u=async(e,a)=>{try{return{id:(await (0,t.ET)(n,{code:e,name:a})).id,code:e,name:a}}catch(e){throw console.error("Error adding airport:",e),e}},m=async e=>{try{return await (0,t.oe)((0,t.JU)(s,"airports",e)),!0}catch(e){throw console.error("Error deleting airport:",e),e}},g=async(e,a)=>{try{let r=(0,t.JU)(s,"promos",e);return await (0,t.r7)(r,{name:a}),{id:e,name:a}}catch(e){throw console.error("Error updating promo:",e),e}},p=async(e,a,r)=>{try{let l=(0,t.JU)(s,"airports",e);return await (0,t.r7)(l,{code:a,name:r}),{id:e,code:a,name:r}}catch(e){throw console.error("Error updating airport:",e),e}}},73501:function(e,a,r){"use strict";let t=(0,r(15236).ZF)({apiKey:"AIzaSyCh-VbkFTAxPrY7lvEbaOd4i73lodoE4RQ",authDomain:"salamadina-fa1ca.firebaseapp.com",projectId:"salamadina-fa1ca",storageBucket:"salamadina-fa1ca.firebasestorage.app",messagingSenderId:"1025635284303",appId:"1:1025635284303:web:a19855074f12f54ffa413a"});a.Z=t},26457:function(e,a,r){"use strict";r.d(a,{p:function(){return i}});var t=r(69842),l=r(73501);let s=(0,t.ad)(l.Z),i={getPackages:async()=>{try{let e=(0,t.IO)((0,t.hJ)(s,"umrahPackages"),(0,t.Xo)("createdAt","desc")),a=await (0,t.PL)(e),r=[];return a.forEach(e=>{r.push({id:e.id,...e.data()})}),r}catch(e){throw console.error("Error fetching packages: ",e),Error("Failed to fetch packages")}},addPackage:async e=>{try{return(await (0,t.ET)((0,t.hJ)(s,"umrahPackages"),{...e,createdAt:t.EK.now()})).id}catch(e){throw console.error("Error adding package: ",e),Error("Failed to add package")}},updatePackage:async(e,a)=>{try{if(!e)throw Error("Package ID is required");let r=(0,t.JU)(s,"umrahPackages",e);console.log("Updating package ".concat(e," with data:"),a),await (0,t.r7)(r,{...a,updatedAt:t.EK.now()}),console.log("Package ".concat(e," updated successfully"))}catch(e){if(console.error("Error updating package: ",e),e instanceof Error)throw Error("Failed to update package: ".concat(e.message));throw Error("Failed to update package: Unknown error")}},deletePackage:async e=>{try{await (0,t.oe)((0,t.JU)(s,"umrahPackages",e))}catch(e){throw console.error("Error deleting package: ",e),Error("Failed to delete package")}}}},41843:function(e,a,r){"use strict";r.d(a,{default:function(){return C}});var t=r(57437),l=r(2265),s=r(16463),i=r(26457),n=r(38472);let o=e=>{try{let a=e.match(/@([^/]+)$/);if(a&&a[1])return a[1];throw Error("Invalid Cloudinary URL format")}catch(e){throw console.error("Failed to extract cloud name from Cloudinary URL:",e),Error("Invalid Cloudinary configuration")}},c=async(e,a)=>{if(!e)throw Error("No file provided for upload.");let r="cloudinary://474379412111872:vmLrf2n0HiVRg-YagsYWCSPtRqs@dcvqd1yg5",t="defaukt";if(!r||!t)throw Error("Cloudinary configuration is missing.");try{let l=o(r),s=new FormData;s.append("file",e),s.append("upload_preset",t);let i=(await n.Z.post("https://api.cloudinary.com/v1_1/".concat(l,"/image/upload"),s,{onUploadProgress:e=>{if(a&&e.total){let r=e.loaded/e.total*100;a(r)}}})).data;if(!i.secure_url||!i.public_id)throw Error("Incomplete Cloudinary response");return i}catch(e){throw console.error("Error uploading image to Cloudinary:",e),Error("Failed to upload image. Please try again.")}};var d=r(91326),u=r(83719),m=r(28027),g=r(33037),p=r(76520),h=r(55205),x=r(28549),b=r(23983),y=r(19498),f=r(75511),j=r(25774),v=r(52326),w=r(45814),k=r(27270);let N={title:"",subtitle:"",price:"",features:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}],seatsLeft:"",totalSeats:"",imageUrl:"",image:null,tags:[],packageType:""},P={"Umrah Reguler":["Umrah Ceria","Umrah Cermat","Umrah Istimewa"],"Umrah Edu Trip":["Manajemen","Daurah Pelajar"],"Umrah Corporate":["Bronze","Silver","Premium"],"Umrah Plus Mancanegara":["Turki","Mesir"],"Umrah Prestige":["Gold","Platinum"],"Umrah Mandiri":[],"Umrah Custom/Community":[]},Z=["home","user","settings","file","chart","message","camera","heart","star","check","x","alert"];var C=()=>{let e=(0,s.useRouter)(),[a,r]=(0,l.useState)([]),[n,o]=(0,l.useState)(!1),[C,S]=(0,l.useState)(!1),[U,E]=(0,l.useState)(null),[T,F]=(0,l.useState)(!1),[I,L]=(0,l.useState)({...N}),[A,z]=(0,l.useState)([]),[D,_]=(0,l.useState)(""),[M,O]=(0,l.useState)(""),[q,J]=(0,l.useState)({promos:[],airports:[],packageTypes:Object.keys(P)}),[R,W]=(0,l.useState)({open:!1,message:"",severity:"success"}),B=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";W({open:!0,message:e,severity:a})},H=()=>{W({...R,open:!1})},[V,$]=(0,l.useState)(!0),K=async()=>{try{$(!0);let e=await (0,w.a$)();J({...e,packageTypes:Object.keys(P)}),$(!1)}catch(e){console.error("Failed to load filters:",e),$(!1)}},G=async()=>{F(!0);try{let e=await i.p.getPackages();r(e)}catch(e){B("Failed to load packages.","error")}F(!1)};(0,l.useEffect)(()=>{G(),K()},[]);let Y=e=>{let{name:a,value:r}=e.target;if("price"===a){let e=r.replace(/\D/g,"");L({...I,[a]:e})}else L({...I,[a]:r})},Q=e=>{z(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},X=(e,a,r)=>{let t=[...I.features];t[e][a]=r,L({...I,features:t})},ee=async e=>{e.preventDefault(),F(!0);let a=I.features.filter(e=>""!==e.label.trim()).map(e=>({label:e.label.trim(),icon:e.icon.trim()}));try{let e="";I.image&&(e=(await c(I.image)).secure_url);let r=[...A];D&&(r.push(D),M&&r.push(M));let t={title:I.title,subtitle:I.subtitle,price:parseFloat(I.price.replace(/[^0-9.-]+/g,"")),features:a,seatsLeft:parseInt(I.seatsLeft),totalSeats:parseInt(I.totalSeats),imageUrl:e,tags:r,packageType:D,subType:M};await i.p.addPackage(t),L({...N}),z([]),_(""),O(""),o(!1),G(),B("Package added successfully!")}catch(e){B("Failed to add package.","error")}F(!1)},ea=async e=>{if(e.preventDefault(),F(!0),!(null==U?void 0:U.id)){F(!1),B("Missing package ID","error");return}try{var a,r;let e=U.imageUrl;if(I.image)try{e=(await c(I.image)).secure_url}catch(e){console.error("Image upload error:",e),B("Image upload failed, using existing image","warning")}let t=[...A];D&&(t.push(D),M&&t.push(M));let l=I.features.filter(e=>e&&e.label&&""!==e.label.trim()).map(e=>{var a,r;return{label:(null===(a=e.label)||void 0===a?void 0:a.trim())||"",icon:(null===(r=e.icon)||void 0===r?void 0:r.trim())||""}}),s={title:(null===(a=I.title)||void 0===a?void 0:a.trim())||"",subtitle:(null===(r=I.subtitle)||void 0===r?void 0:r.trim())||"",price:parseFloat((I.price||"0").toString().replace(/[^0-9.-]+/g,"")),features:l,seatsLeft:parseInt((I.seatsLeft||"0").toString()),totalSeats:parseInt((I.totalSeats||"0").toString()),imageUrl:e,tags:t,packageType:D||"",subType:M||void 0};console.log("Updating package with ID: ".concat(U.id),s),await i.p.updatePackage(U.id,s),L({...N}),z([]),_(""),O(""),S(!1),E(null),o(!1),G(),B("Package updated successfully!")}catch(a){console.error("Update error:",a);let e="Failed to update package.";a instanceof Error&&(e+=" ".concat(a.message)),B(e,"error")}F(!1)},er=async e=>{if(window.confirm("Are you sure you want to delete this package?")){F(!0);try{await i.p.deletePackage(e),G(),B("Package deleted successfully!")}catch(e){B("Failed to delete package.","error")}F(!1)}},et=e=>{var a;E(e),L({title:e.title,subtitle:e.subtitle,price:e.price.toString(),features:[...e.features,...Array(6-e.features.length).fill("")],seatsLeft:e.seatsLeft.toString(),totalSeats:e.totalSeats.toString(),imageUrl:e.imageUrl,image:null,tags:e.tags||[],packageType:e.packageType||""}),z((null===(a=e.tags)||void 0===a?void 0:a.filter(e=>!Object.keys(P).includes(e)&&!Object.values(P).flat().includes(e)))||[]),_(e.packageType||""),O(e.subType||""),S(!0),o(!0)},el=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),es=function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={"Umrah Reguler":"bg-blue-600","Umrah Edu Trip":"bg-purple-600","Umrah Corporate":"bg-orange-600","Umrah Plus Mancanegara":"bg-green-600","Umrah Prestige":"bg-yellow-600","Umrah Mandiri":"bg-gray-600","Umrah Custom/Community":"bg-rose-600",default:a?"bg-blue-600":"bg-gray-500"},l=Object.keys(P).includes(e)?r[e]:r.default;return(0,t.jsx)("span",{className:"".concat(l," text-white text-xs font-semibold px-2 py-1 rounded-full"),children:e})};return(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Travel Package Management"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("button",{className:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-6 rounded-lg transition-colors",onClick:()=>{S(!1),E(null),L({...N}),z([]),_(""),O(""),o(!n)},children:n?"Cancel":"Add New Package"}),(0,t.jsx)("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-6 rounded-lg transition-colors",onClick:()=>{G(),K()},children:"Refresh"})]}),n&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:C?"Edit Package":"Add New Package"}),(0,t.jsxs)("form",{onSubmit:C?ea:ee,children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-gray-700 mb-2",children:["Package Title ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"title",value:I.title,onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"e.g., Umroh Hemat Plus Thaif",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-gray-700 mb-2",children:["Package Subtitle ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"subtitle",value:I.subtitle,onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"e.g., Start jakarta 9 hari, By oman air",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-gray-700 mb-2",children:["Price (IDR) ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"price",value:I.price?el(Number(I.price)):"",onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"e.g., 31.500.000",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Package Image"}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&L({...I,image:e.target.files[0]})},className:"w-full p-2 border border-gray-300 rounded-lg"}),C&&(null==U?void 0:U.imageUrl)&&!I.image&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Current image will be kept if no new image is selected"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-gray-700 mb-2",children:["Available Seats ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"number",name:"seatsLeft",value:I.seatsLeft,onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"e.g., 15",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-gray-700 mb-2",children:["Total Seats ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"number",name:"totalSeats",value:I.totalSeats,onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"e.g., 40",required:!0})]})]}),(0,t.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-gray-700 mb-2",children:["Package Type ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{name:"packageType",value:D,onChange:e=>{let{name:a,value:r}=e.target;L({...I,[a]:r}),"packageType"===a&&(_(r),O(""))},className:"w-full p-3 border border-gray-300 rounded-lg",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Package Type"}),Object.keys(P).map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),D&&P[D].length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Sub Type"}),(0,t.jsxs)("select",{value:M,onChange:e=>{O(e.target.value)},className:"w-full p-3 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{value:"",children:"Select Sub Type"}),P[D].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Additional Tags"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:q.promos.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>Q(e.name),className:"px-3 py-1 rounded-full text-sm font-medium ".concat(A.includes(e.name)?"bg-green-600 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"),children:e.name},e.id))}),(0,t.jsx)("label",{className:"block text-gray-700 mb-2 mt-4",children:"Departure Airport"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:q.airports.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>Q(e.code),className:"px-3 py-1 rounded-full text-sm font-medium ".concat(A.includes(e.code)?"bg-blue-600 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"),children:[e.code," - ",e.name]},e.id))})]}),(0,t.jsxs)(d.Z,{sx:{mt:4,mb:2},children:[(0,t.jsx)(u.Z,{variant:"h6",gutterBottom:!0,children:"Package Features (up to 6)"}),(0,t.jsx)(m.Z,{elevation:2,sx:{p:3,bgcolor:"background.paper"},children:(0,t.jsx)(g.ZP,{container:!0,spacing:3,children:I.features.map((e,a)=>(0,t.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(p.Z,{variant:"outlined",sx:{height:"100%"},children:(0,t.jsx)(h.Z,{children:(0,t.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(x.Z,{fullWidth:!0,variant:"outlined",children:(0,t.jsx)(b.Z,{fullWidth:!0,label:"Feature ".concat(a+1),value:e.label,onChange:e=>X(a,"label",e.target.value),variant:"outlined",size:"small"})}),(0,t.jsx)(x.Z,{sx:{width:"40%"},variant:"outlined",children:(0,t.jsx)(y.Z,{freeSolo:!0,options:Z,value:e.icon,onInputChange:(e,r)=>{X(a,"icon",r)},renderInput:a=>(0,t.jsx)(b.Z,{...a,label:"Icon",variant:"outlined",size:"small",InputProps:{...a.InputProps,endAdornment:e.icon?(0,t.jsx)(v.Z,{position:"end",children:(0,t.jsx)(f.Z,{className:"tabler-".concat(e.icon),fontSize:"small"})}):null}})})})]})})})},a))})})]}),(0,t.jsx)("div",{className:"mt-8 flex justify-end",children:(0,t.jsx)("button",{type:"submit",className:"px-6 py-3 rounded-lg text-white ".concat(C?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"," transition-colors"),disabled:T,children:T?"Processing...":C?"Update Package":"Add Package"})})]})]}),T&&!n&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-300 border-t-blue-600"}),(0,t.jsx)("p",{className:"mt-2",children:"Loading packages..."})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(a=>{var r;return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden transition-transform duration-300 hover:scale-105",children:[(0,t.jsxs)("div",{className:"relative h-48 bg-gray-200",children:[(0,t.jsx)("img",{className:"h-full w-full object-cover",src:a.imageUrl||"/api/placeholder/400/320",alt:"package"}),(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>et(a),className:"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-full",title:"Edit",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,t.jsx)("button",{onClick:()=>a.id&&er(a.id),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-full",title:"Delete",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[a.packageType&&es(a.packageType,!0),a.subType&&es(a.subType),null===(r=a.tags)||void 0===r?void 0:r.filter(e=>e!==a.packageType&&e!==a.subType).map(e=>(0,t.jsx)("span",{className:"bg-gray-200 text-gray-700 text-xs px-2 py-1 rounded-full",children:e},e))]}),(0,t.jsx)("h3",{className:"text-xl font-bold text-center mb-2",children:a.title}),(0,t.jsx)("p",{className:"text-gray-500 text-center italic mb-4",children:a.subtitle}),(0,t.jsx)("p",{className:"text-2xl font-bold text-center text-rose-800 mb-6",children:el(a.price)}),(0,t.jsx)("div",{className:"border-t border-gray-200 my-4"}),(0,t.jsx)("div",{className:"space-y-3",children:a.features.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[""===e.icon?(0,t.jsx)("span",{className:"w-5 h-5 flex items-center justify-center rounded-full text-white ".concat(a<3?"bg-blue-500":a<6?"bg-green-500":"bg-yellow-500"),children:"✓"}):(0,t.jsx)("i",{className:"tabler-".concat(e.icon," text-blue-600 text-lg")}),(0,t.jsx)("span",{className:"text-gray-600",children:e.label})]},a))}),(0,t.jsx)("div",{className:"border-t border-gray-200 my-4"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("p",{className:"font-bold mb-2",children:[a.seatsLeft," seats left!"]}),(0,t.jsx)("div",{className:"h-2 bg-rose-100 rounded-full",children:(0,t.jsx)("div",{className:"h-full bg-rose-800 rounded-full",style:{width:"".concat(a.seatsLeft/a.totalSeats*100,"%")}})})]}),(0,t.jsxs)("button",{className:"w-full bg-rose-800 text-white py-2 px-4 rounded-lg hover:bg-rose-700 transition-colors flex items-center justify-center gap-2",onClick:()=>e.push("/package/umrah/details?id=".concat(a.id)),children:[(0,t.jsx)("i",{className:"tabler-user-search"}),"Detail Paket"]})]})]},a.id)})}),!T&&0===a.length&&(0,t.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),(0,t.jsx)("h3",{className:"mt-4 text-xl font-medium text-gray-900",children:"No packages found"}),(0,t.jsx)("p",{className:"mt-2 text-gray-500",children:"Get started by creating your first travel package."}),(0,t.jsx)("button",{className:"mt-4 bg-blue-500 hover:bg-blue-600 text-white py-2 px-6 rounded-lg transition-colors",onClick:()=>o(!0),children:"Add Package"})]}),(0,t.jsx)(j.Z,{open:R.open,autoHideDuration:3e3,onClose:H,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,t.jsx)(k.Z,{onClose:H,severity:R.severity,variant:"filled",children:R.message})})]})}},1710:function(e,a,r){"use strict";var t=r(57437),l=r(2265),s=r(45814),i=r(62197),n=r(83719),o=r(28027),c=r(23983),d=r(76548),u=r(32184),m=r(78498),g=r(60335),p=r(14595),h=r(25774),x=r(27270),b=r(11224),y=r(62373),f=r(94729),j=r(74732),v=r(8527),w=r(19847),k=r(84038);a.default=()=>{let[e,a]=(0,l.useState)({promos:[],airports:[]}),[r,N]=(0,l.useState)(""),[P,Z]=(0,l.useState)({code:"",name:""}),[C,S]=(0,l.useState)(null),[U,E]=(0,l.useState)(null),[T,F]=(0,l.useState)({open:!1,message:"",severity:"success"}),I=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";F({open:!0,message:e,severity:a})},L=()=>{F({...T,open:!1})};(0,l.useEffect)(()=>{A()},[]);let A=async()=>{try{let e=await (0,s.a$)();a(e)}catch(e){console.error("Failed to load filters:",e),alert("Failed to load filters. Please try again.")}},z=async()=>{if(!r.trim()){I("Promotion name cannot be empty","error");return}try{await (0,s.fu)(r),N(""),I("Promotion added successfully"),A()}catch(e){I("Failed to add promo. Please try again.","error")}},D=async e=>{try{await (0,s.qA)(e),A()}catch(e){I("Failed to delete promo. Please try again.","error")}},_=async()=>{if(!C||!C.name.trim()){I("Promotion name cannot be empty","error");return}try{await (0,s.e$)(C.id,C.name),S(null),I("Promotion Updated successfully"),A()}catch(e){I("Failed to update promo. Please try again.","error")}},M=async()=>{if(!P.code.trim()||!P.name.trim()){I("Airport code and name cannot be empty","error");return}try{await (0,s.Py)(P.code,P.name),Z({code:"",name:""}),I("Airport added successfully"),A()}catch(e){I("Failed to add airport. Please try again.","error")}},O=async e=>{try{await (0,s.Uu)(e),I("Airport deleted successfully"),A()}catch(e){I("Failed to delete airport. Please try again.","error")}},q=async()=>{if(!U||!U.code.trim()||!U.name.trim()){I("Airport code and name cannot be empty","error");return}try{await (0,s._w)(U.id,U.code,U.name),E(null),I("Airport updated successfully"),A()}catch(e){I("Failed to update airport. Please try again.","error")}};return(0,t.jsxs)(i.Z,{className:"py-8",maxWidth:"md",children:[(0,t.jsx)(n.Z,{variant:"h4",component:"h1",className:"mb-6 font-bold text-gray-800 flex items-center",children:"Filter Management"}),(0,t.jsxs)(o.Z,{elevation:2,className:"mb-8 p-6 bg-white",children:[(0,t.jsxs)(n.Z,{variant:"h5",component:"h2",className:"mb-4 font-semibold flex items-center",children:[(0,t.jsx)(b.Z,{className:"mr-2 text-blue-600"})," Promotions"]}),(0,t.jsxs)("div",{className:"flex mb-4 gap-2",children:[(0,t.jsx)(c.Z,{fullWidth:!0,variant:"outlined",size:"small",value:r,onChange:e=>N(e.target.value),placeholder:"New promotion name",className:"bg-white"}),(0,t.jsx)(d.Z,{variant:"contained",startIcon:(0,t.jsx)(y.Z,{}),onClick:z,className:"bg-blue-600 hover:bg-blue-700 whitespace-nowrap",children:"Add"})]}),(0,t.jsx)(u.Z,{className:"bg-gray-50 rounded",children:0===e.promos.length?(0,t.jsx)(m.ZP,{className:"p-4 text-gray-500 italic",children:"No promotions added yet"}):e.promos.map(e=>(0,t.jsxs)(l.Fragment,{children:[(0,t.jsx)(m.ZP,{className:"p-4",children:(null==C?void 0:C.id)===e.id?(0,t.jsxs)("div",{className:"flex w-full gap-2 items-center",children:[(0,t.jsx)(c.Z,{fullWidth:!0,size:"small",value:C.name,onChange:e=>S({...C,name:e.target.value}),className:"bg-white"}),(0,t.jsx)(g.Z,{onClick:_,color:"success",size:"small",children:(0,t.jsx)(f.Z,{})}),(0,t.jsx)(g.Z,{onClick:()=>S(null),color:"default",size:"small",children:(0,t.jsx)(j.Z,{})})]}):(0,t.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,t.jsx)(n.Z,{children:e.name}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g.Z,{onClick:()=>S(e),color:"primary",size:"small",className:"mr-1",children:(0,t.jsx)(v.Z,{})}),(0,t.jsx)(g.Z,{onClick:()=>D(e.id),color:"error",size:"small",children:(0,t.jsx)(w.Z,{})})]})]})}),(0,t.jsx)(p.Z,{component:"li"})]},e.id))})]}),(0,t.jsxs)(o.Z,{elevation:2,className:"mb-8 p-6 bg-white",children:[(0,t.jsxs)(n.Z,{variant:"h5",component:"h2",className:"mb-4 font-semibold flex items-center",children:[(0,t.jsx)(k.Z,{className:"mr-2 text-blue-600"})," Airports"]}),(0,t.jsxs)("div",{className:"flex mb-4 gap-2",children:[(0,t.jsx)(c.Z,{variant:"outlined",size:"small",value:P.code,onChange:e=>Z({...P,code:e.target.value.toUpperCase()}),placeholder:"Code (e.g., CGK)",className:"w-32 bg-white",inputProps:{maxLength:3}}),(0,t.jsx)(c.Z,{fullWidth:!0,variant:"outlined",size:"small",value:P.name,onChange:e=>Z({...P,name:e.target.value}),placeholder:"Airport name (e.g., Jakarta)",className:"bg-white"}),(0,t.jsx)(d.Z,{variant:"contained",startIcon:(0,t.jsx)(y.Z,{}),onClick:M,className:"bg-blue-600 hover:bg-blue-700 whitespace-nowrap",children:"Add"})]}),(0,t.jsx)(u.Z,{className:"bg-gray-50 rounded",children:0===e.airports.length?(0,t.jsx)(m.ZP,{className:"p-4 text-gray-500 italic",children:"No airports added yet"}):e.airports.map(e=>(0,t.jsxs)(l.Fragment,{children:[(0,t.jsx)(m.ZP,{className:"p-4",children:(null==U?void 0:U.id)===e.id?(0,t.jsxs)("div",{className:"flex w-full gap-2 items-center",children:[(0,t.jsx)(c.Z,{size:"small",value:U.code,onChange:e=>E({...U,code:e.target.value.toUpperCase()}),className:"w-24 bg-white",inputProps:{maxLength:3}}),(0,t.jsx)(c.Z,{fullWidth:!0,size:"small",value:U.name,onChange:e=>E({...U,name:e.target.value}),className:"bg-white"}),(0,t.jsx)(g.Z,{onClick:q,color:"success",size:"small",children:(0,t.jsx)(f.Z,{})}),(0,t.jsx)(g.Z,{onClick:()=>E(null),color:"default",size:"small",children:(0,t.jsx)(j.Z,{})})]}):(0,t.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,t.jsxs)(n.Z,{children:[(0,t.jsx)("span",{className:"font-medium",children:e.code})," - ",e.name]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g.Z,{onClick:()=>E(e),color:"primary",size:"small",className:"mr-1",children:(0,t.jsx)(v.Z,{})}),(0,t.jsx)(g.Z,{onClick:()=>O(e.id),color:"error",size:"small",children:(0,t.jsx)(w.Z,{})})]})]})}),(0,t.jsx)(p.Z,{component:"li"})]},e.id))})]}),(0,t.jsx)(h.Z,{open:T.open,autoHideDuration:3e3,onClose:L,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,t.jsx)(x.Z,{onClose:L,severity:T.severity,variant:"filled",children:T.message})})]})}}},function(e){e.O(0,[4358,5236,2173,808,5161,3834,9325,6951,6511,3983,5754,7683,1998,7734,2115,2971,7023,1744],function(){return e(e.s=87101)}),_N_E=e.O()}]);